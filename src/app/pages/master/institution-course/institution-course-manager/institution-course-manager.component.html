<div class="institution-course-manager">
    <div class="modal-header">
        <h4 *ngIf="data && !dataId" class="modal-title text-success" id="modal-basic-title">Criar cadastro de curso
        </h4>
        <h4 *ngIf="data && dataId" class="modal-title text-warning" id="modal-basic-title">Editar cadastro de curso
        </h4>
        <button type="button" class="close" aria-label="Close" (click)="close()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col-12">
                <ngb-alert type="danger" *ngIf="error" (close)="error = ''">{{error}}</ngb-alert>
            </div>
        </div>

        <div class="row" *ngIf="loading">
            <div class="col text-center mb-3">
                <div class="status">
                    <div class="spinner-border avatar-sm text-primary m-2" role="status"></div>
                </div>
            </div>
        </div>

        <form class="needs-validation" [formGroup]="formGroup" (ngSubmit)="onSubmit()" novalidate *ngIf="!loading">
            <div class="row">
                <div class="col-md-12 ">
                    <div class="">
                        <div class="row">
                            <div class="col-md-12 mb-2">
                                <input-form label='Nome do curso' [disabled]="data.id" type="select" selectId="name"
                                    [items]="allCourse" [tag]="true" name='courseName' [submitted]='submitted'
                                    [formGroup]="formGroup">
                                </input-form>
                            </div>
                            <div class="col-md-8 mb-2">
                                <input-form label='Instituição de Ensino' [disabled]="data.id" type="select"
                                    [items]="items" name='institutionId' [submitted]='submitted'
                                    [formGroup]="formGroup">
                                </input-form>
                            </div>
                            <div class="col-md-4 mb-2">
                                <input-form label='Termos' type="number" name='qtyTerms' [submitted]='submitted'
                                    [formGroup]="formGroup">
                                </input-form>
                            </div>
                            <div class="col-md-8 my-form mb-2">
                                <label for="courseName" class="ng-star-inserted">
                                    Períodos
                                </label>
                                <div class="row ml-2">
                                    <div *ngFor="let item of allPeriods;let i = index" class="col-md-4 mt-2">
                                        <div class="checkbox checkbox-primary ">
                                            <input type="checkbox" id="periods{{item.id}}"
                                                formControlName="periods{{item.id}}" [value]="false">
                                            <label for="periods{{item.id}}">{{item.title}}</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-2">
                                <input-form label='Modalidade' type="select" selectLabel="title" [items]="allEduLevels"
                                    name='eduLevelId' [submitted]='submitted' [formGroup]="formGroup">
                                </input-form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">

        <div class="row w-100">
            <div class="col-md-6">
                <button *ngIf="data.id" type="button" (click)="deleteItem()"
                    class="btn btn-danger block waves-effect waves-ligh" [disabled]="submitting">
                    Exluir
                </button>
            </div>
            <div class="col-md-6">
                <div class="text-right mb-2">
                    <button (click)="close()" class="btn w-sm btn-light waves-effect mr-2">Voltar</button>
                    <button type="button" (click)="onSubmit()" class="btn btn-blue block waves-effect waves-ligh"
                        [disabled]="submitting">
                        <span class="spinner-grow spinner-grow-sm mr-1" *ngIf="submitting"></span>
                        Salvar
                    </button>
                </div>
            </div>
        </div>

        <!-- <button type="button" class="btn btn-outline-dark" (click)="close()">Save</button> -->
    </div>
</div>